{"ast":null,"code":"import _classCallCheck from\"D:/Work/Project/ReactJs/UdemyCourse/HospAppTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Work/Project/ReactJs/UdemyCourse/HospAppTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/Work/Project/ReactJs/UdemyCourse/HospAppTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/Work/Project/ReactJs/UdemyCourse/HospAppTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Work/Project/ReactJs/UdemyCourse/HospAppTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Link}from\"react-router-dom\";import\"./list-table/list-table.style.scss\";import\"./paroll-employee-registration.styles.scss\";import{firestore}from\"../../firebase/firebase.utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PayrollEmpList=/*#__PURE__*/function(_React$Component){_inherits(PayrollEmpList,_React$Component);var _super=_createSuper(PayrollEmpList);function PayrollEmpList(){var _this;_classCallCheck(this,PayrollEmpList);_this=_super.call(this);_this.onDataChange=_this.onDataChange.bind(_assertThisInitialized(_this));_this.handleEdit=_this.handleEdit.bind(_assertThisInitialized(_this));_this.state={mydata:[]};_this.unsubscribe=undefined;return _this;}_createClass(PayrollEmpList,[{key:\"componentDidMount\",value:function componentDidMount(){var db=firestore.collection(\"payrollData\").doc(\"payrollEmpRegistration\").collection(\"payrollEmployee\");this.unsubscribe=db.orderBy(\"PayrollCompanyName\",\"asc\").onSnapshot(this.onDataChange);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unsubscribe();}},{key:\"handleEdit\",value:function handleEdit(id){console.log(id);}},{key:\"onDataChange\",value:function onDataChange(items){var mydata=[];items.forEach(function(item){var id=item.id;var data=item.data();mydata.push({id:id,EmployeeCode:data.EmployeeCode,EmployeeName:data.EmployeeName,EmployeeEmail:data.EmployeeEmail,PayrollCompanyName:data.PayrollCompanyName,EmployeeAddress:data.EmployeeAddress,EmployeeContact:data.EmployeeContact,EmployeeImgUrl:data.EmployeeImgUrl});});this.setState({mydata:mydata});}},{key:\"render\",value:function render(){var mydata=this.state.mydata;var defaultImage=\"https://www.pngarts.com/files/3/Avatar-PNG-Download-Image.png\";console.log(mydata.EmployeeImgUrl);return/*#__PURE__*/_jsxs(\"table\",{className:\"table-page\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"Employee Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Employee Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Employee Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Company Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:mydata.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"table-data-row\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"emp-code\",children:item.EmployeeCode}),/*#__PURE__*/_jsx(\"td\",{className:\"table-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:item.EmployeeImgUrl?item.EmployeeImgUrl:defaultImage,alt:\"dummyimg\"})}),/*#__PURE__*/_jsx(\"td\",{children:item.EmployeeName}),/*#__PURE__*/_jsx(\"td\",{children:item.EmployeeEmail}),/*#__PURE__*/_jsx(\"td\",{children:item.PayrollCompanyName}),/*#__PURE__*/_jsx(\"td\",{children:item.EmployeeAddress}),/*#__PURE__*/_jsx(\"td\",{children:item.EmployeeContact}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/payroll/PayrollEmpRegMaster/\".concat(item.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"button-edit\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"button-delete\",children:\"Delete\"})]})]});})})]});}}]);return PayrollEmpList;}(React.Component);export default PayrollEmpList;","map":{"version":3,"sources":["D:/Work/Project/ReactJs/UdemyCourse/HospAppTest/src/forms/Payroll-forms/emp-list.component.jsx"],"names":["React","Link","firestore","PayrollEmpList","onDataChange","bind","handleEdit","state","mydata","unsubscribe","undefined","db","collection","doc","orderBy","onSnapshot","id","console","log","items","forEach","item","data","push","EmployeeCode","EmployeeName","EmployeeEmail","PayrollCompanyName","EmployeeAddress","EmployeeContact","EmployeeImgUrl","setState","defaultImage","map","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./list-table/list-table.style.scss\";\r\nimport \"./paroll-employee-registration.styles.scss\";\r\n\r\nimport { firestore } from \"../../firebase/firebase.utils\";\r\n\r\nclass PayrollEmpList extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.onDataChange = this.onDataChange.bind(this);\r\n\t\tthis.handleEdit = this.handleEdit.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tmydata: [],\r\n\t\t};\r\n\r\n\t\tthis.unsubscribe = undefined;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst db = firestore\r\n\t\t\t.collection(\"payrollData\")\r\n\t\t\t.doc(\"payrollEmpRegistration\")\r\n\t\t\t.collection(\"payrollEmployee\");\r\n\r\n\t\tthis.unsubscribe = db\r\n\t\t\t.orderBy(\"PayrollCompanyName\", \"asc\")\r\n\t\t\t.onSnapshot(this.onDataChange);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.unsubscribe();\r\n\t}\r\n\thandleEdit(id) {\r\n\t\tconsole.log(id);\r\n\t}\r\n\tonDataChange(items) {\r\n\t\tlet mydata = [];\r\n\r\n\t\titems.forEach((item) => {\r\n\t\t\tlet id = item.id;\r\n\t\t\tlet data = item.data();\r\n\t\t\tmydata.push({\r\n\t\t\t\tid: id,\r\n\t\t\t\tEmployeeCode: data.EmployeeCode,\r\n\t\t\t\tEmployeeName: data.EmployeeName,\r\n\t\t\t\tEmployeeEmail: data.EmployeeEmail,\r\n\t\t\t\tPayrollCompanyName: data.PayrollCompanyName,\r\n\t\t\t\tEmployeeAddress: data.EmployeeAddress,\r\n\t\t\t\tEmployeeContact: data.EmployeeContact,\r\n\t\t\t\tEmployeeImgUrl: data.EmployeeImgUrl,\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\tmydata: mydata,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { mydata } = this.state;\r\n\t\tconst defaultImage =\r\n\t\t\t\"https://www.pngarts.com/files/3/Avatar-PNG-Download-Image.png\";\r\n\t\tconsole.log(mydata.EmployeeImgUrl);\r\n\t\treturn (\r\n\t\t\t<table className=\"table-page\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr className=\"table-header\">\r\n\t\t\t\t\t\t<th>Employee Code</th>\r\n\t\t\t\t\t\t<th>Employee Image</th>\r\n\t\t\t\t\t\t<th>Employee Name</th>\r\n\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t<th>Company Name</th>\r\n\t\t\t\t\t\t<th>Address</th>\r\n\t\t\t\t\t\t<th>Contact</th>\r\n\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{mydata.map((item) => (\r\n\t\t\t\t\t\t<tr className=\"table-data-row\">\r\n\t\t\t\t\t\t\t<td className=\"emp-code\">{item.EmployeeCode}</td>\r\n\t\t\t\t\t\t\t<td className=\"table-image-container\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={item.EmployeeImgUrl ? item.EmployeeImgUrl : defaultImage}\r\n\t\t\t\t\t\t\t\t\talt=\"dummyimg\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>{item.EmployeeName}</td>\r\n\t\t\t\t\t\t\t<td>{item.EmployeeEmail}</td>\r\n\t\t\t\t\t\t\t<td>{item.PayrollCompanyName}</td>\r\n\t\t\t\t\t\t\t<td>{item.EmployeeAddress}</td>\r\n\t\t\t\t\t\t\t<td>{item.EmployeeContact}</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<Link to={`/payroll/PayrollEmpRegMaster/${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t<button className=\"button-edit\">Edit</button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<button className=\"button-delete\">Delete</button>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PayrollEmpList;\r\n"]},"metadata":{},"sourceType":"module"}